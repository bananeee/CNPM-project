<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Collision</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>

<body>
    <script type="text/javascript">
        var config = {
            type: Phaser.AUTO,
            width: 1080,
            height: 720,
            scene: {
                preload: preload,
                create: create,
            }
        };
        var game = new Phaser.Game(config)
        function preload() {
            this.load.image('suitcase', 'assets/Package1.png')
        }

        function create() {
            //  Create a stack of random suitcase

            var frames = this.textures.get('suitcase').getFrameNames();

            var x = 100;
            var y = 100;

            
                var image = this.add.image(x, y, 'suitcase', Phaser.Math.RND.pick(frames)).setInteractive();

                this.input.setDraggable(image);

               
            

            //  A drop zone
            var zone = this.add.zone(500, 300, 300, 300).setRectangleDropZone(300, 300);

            //  Just a visual display of the drop zone
            var graphics = this.add.graphics();
            graphics.lineStyle(2, 0xffff00);
            graphics.strokeRect(zone.x - zone.input.hitArea.width / 2, zone.y - zone.input.hitArea.height / 2, zone.input.hitArea.width, zone.input.hitArea.height);

            this.input.on('dragstart', function (pointer, gameObject) {

                this.children.bringToTop(gameObject);

            }, this);

            this.input.on('drag', function (pointer, gameObject, dragX, dragY) {

                gameObject.x = dragX;
                gameObject.y = dragY;

            });

            this.input.on('dragenter', function (pointer, gameObject, dropZone) {

                graphics.clear();
                graphics.lineStyle(2, 0x00ffff);
                graphics.strokeRect(zone.x - zone.input.hitArea.width / 2, zone.y - zone.input.hitArea.height / 2, zone.input.hitArea.width, zone.input.hitArea.height);

            });

            this.input.on('dragleave', function (pointer, gameObject, dropZone) {

                graphics.clear();
                graphics.lineStyle(2, 0xffff00);
                graphics.strokeRect(zone.x - zone.input.hitArea.width / 2, zone.y - zone.input.hitArea.height / 2, zone.input.hitArea.width, zone.input.hitArea.height);

            });

            this.input.on('drop', function (pointer, gameObject, dropZone) {

                gameObject.x = dropZone.x;
                gameObject.y = dropZone.y;

                gameObject.input.enabled = false;

            });

            this.input.on('dragend', function (pointer, gameObject, dropped) {

                if (!dropped) {
                    gameObject.x = gameObject.input.dragStartX;
                    gameObject.y = gameObject.input.dragStartY;
                }

                graphics.clear();
                graphics.lineStyle(2, 0xffff00);
                graphics.strokeRect(zone.x - zone.input.hitArea.width / 2, zone.y - zone.input.hitArea.height / 2, zone.input.hitArea.width, zone.input.hitArea.height);

            });

        }
    </script>

</body>

</html>